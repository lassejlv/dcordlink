<nav class="bg-dark-300 border-gray-200 px-2 sm:px-4 py-2.5" type="component">
  <div class="container flex flex-wrap justify-between items-center mx-auto">
    <a href="/" class="flex items-center">
      <img src="/assets/img/icon.png" class="mr-3 h-6 sm:h-9 rounded-full" alt="Dcordlink Icon" />
      <span
        class="
          self-center
          text-xl
          font-semibold
          whitespace-nowrap
          dark:text-white
          font-robotoMono
        "
        >Dcordlink.ml</span
      >
    </a>
    <% if (user) { %>
    <div class="flex items-center md:order-2">
      <button
        type="button"
        class="
          flex
          mr-3
          text-sm
          rounded-full
          md:mr-0
          hover:scale-110
          transition-all
        "
        id="user-menu-button"
        aria-expanded="false"
        data-dropdown-toggle="dropdown"
      >
        <span class="sr-only">Open user menu</span>
        <img
          class="w-8 h-8 rounded-full border-2 border-blue-100"
          src="https://cdn.discordapp.com/avatars/<%= user.discordId %>/<%= user.avatar %>"
          alt="<%= user.username  %> "
        />
      </button>

      <div
        class="
          hidden
          z-50
          my-4
          text-base
          list-none
          rounded
          divide-y
          shadow-lg
          bg-dark-300
        "
        id="dropdown"
        data-popper-reference-hidden=""
        data-popper-escaped=""
        data-popper-placement="top"
      >
        <div class="py-3 px-4">
          <span class="block text-sm text-white font-bold"
            ><%= user.username %>#<%= user.discriminator %></span
          >
        </div>
        <ul class="py-1" aria-labelledby="dropdown">
          <li>
            <a
              href="/dash"
              class="
                block
                py-2
                px-4
                text-sm
                hover:bg-blue-100
                text-gray-200
                hover:text-white
              "
              >Dashboard</a
            >
          </li>

          <li>
            <a
              href="/auth/logout"
              class="
                block
                py-2
                px-4
                text-sm
                hover:bg-danger-100
                text-gray-200
                hover:text-white
              "
              >Sign out</a
            >
          </li>
        </ul>
      </div>
      <% } else { %>
      <div class="flex items-center md:order-2">
        <button
          type="button"
          class="
            flex
            mr-3
            text-sm
            rounded-md
            md:mr-0
            hover:scale-105
            px-2
            py-3
            bg-blue-100
            hover:bg-blue-200
            text-white
            font-bold
            transition-all
            focus:ring
          "
          onclick="redirect('/auth/discord')"
        >
          Login through Discord
        </button>

        <div
          class=""
        >
      </div>
   
      <% } %>
      <button
        data-collapse-toggle="mobile-menu-2"
        type="button"
        class="
          inline-flex
          items-center
          p-2
          ml-1
          text-sm text-white
          rounded-lg
          md:hidden
          hover:text-gray-300
        "
        aria-controls="mobile-menu-2"
        aria-expanded="false"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="w-6 h-6"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
            clip-rule="evenodd"
          ></path>
        </svg>
        <svg
          class="hidden w-6 h-6"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
            clip-rule="evenodd"
          ></path>
        </svg>
      </button>
    </div>
    <div
      class="
        hidden
        justify-between
        items-center
        w-full
        md:flex md:w-auto md:order-1
      "
      id="mobile-menu-2"
    >
      <ul
        class="
          flex flex-col
          mt-4
          md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium
        "
      >
        <li>
          <a
            href="/"
            class="
              block
              py-2
              pr-4
              pl-3
              text-white
              rounded
              md:bg-transparent md:text-white md:p-0 font-bold
              
            "
            aria-current="page"
            ><i class="fa fa-home"></i> Home</a
          >
        </li>
        <li>
          <a
            href="#"
            class="
            block
            py-2
            pr-4
            pl-3
            text-gray-400
            hover:text-white
            rounded
            md:bg-transparent md:p-0 
            "
            ><i class="fas fa-address-card"></i> About</a
          >
        </li>
        <li>
          <a
            href="/discord"
            class="
            block
            py-2
            pr-4
            pl-3
            text-gray-400
            hover:text-white
            rounded
            md:bg-transparent md:p-0 
            "
            ><i class="fa-brands fa-discord"></i> Support</a
          >
        </li>
      </ul>
    </div>
  </div>
</nav>
